(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{204:function(e,t,a){},205:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),o=a.n(r),i=(a(204),a.p,a(205),a(3));var s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,342)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))},l=a(27),d=a(17),j=a(28),b=a(20),h=a(12),p=a(123),m=a.n(p),u=a(157),g=a(118),O="https://disc-forum.herokuapp.com/api",x=a.n(g).a.create({baseURL:O,timeout:5e5,headers:{Authorization:localStorage.getItem("access_token")?"JWT "+localStorage.getItem("access_token"):"null","Content-Type":"application/json",accept:"application/json"}});x.interceptors.response.use((function(e){return e}),function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,"undefined"!==typeof t.response){e.next=4;break}return alert("A server/network error occurred. Looks like CORS might be the problem. Sorry about this - we will get it fixed shortly."),e.abrupt("return",Promise.reject(t));case 4:if(401!==t.response.status||a.url!==O+"api/token/refresh/"){e.next=7;break}return window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 7:if("token_not_valid"!==t.response.data.code||401!==t.response.status||"Unauthorized"!==t.response.statusText){e.next=23;break}if(!(n=localStorage.getItem("refresh_token"))){e.next=21;break}if(c=JSON.parse(atob(n.split(".")[1])),r=Math.ceil(Date.now()/1e3),console.log(c.exp),!(c.exp>r)){e.next=17;break}return e.abrupt("return",x.post("api/token/refresh/",{refresh:n}).then((function(e){return localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),x.defaults.headers.Authorization="JWT "+e.data.access,a.headers.Authorization="JWT "+e.data.access,x(a)})).catch((function(e){console.log(e)})));case 17:console.log("Refresh token is expired",c.exp,r),window.location.href="/login/";case 19:e.next=23;break;case 21:console.log("Refresh token not available."),window.location.href="/login/";case 23:return e.abrupt("return",Promise.reject(t));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var f=x,v=a(301),y=a(338),k=a(307),w=a(302),C=a(333),S=a(306),T=a(334),N=a(309),L=a(308),I=a(52),A=a(298),B=a(300),W=a(176),R=a(107),E=Object(W.a)({palette:{primary:{main:"#eae7dc"},secondary:{main:"#d8c3a5"},error:{main:R.a.A400},background:{default:"#EAE7DC"},textColor:{main:"#e98074"}}}),F=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",color:"#e85a4f"},avatar:{width:e.spacing(5),backgroundColor:"#e85a4f"},form:{width:"100%",marginTop:e.spacing(1),color:"#e85a4f"},submit:{margin:e.spacing(3,0,2),backgroundColor:"#e85a4f"}}}));Object(W.a)({palette:{type:"dark"}});var D=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",color:"#e85a4f"},avatar:{margin:e.spacing(1),backgroundColor:"#e85a4f"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#e85a4f"},text:{textEmphasisColor:"#e85a4f"}}}));var P=a(311),M=a(312),U=a(104),z=a.n(U),_=a(162),q=a.n(_),H="access_token",J="refresh_token",G=Object(A.a)((function(e){return{appBar:{borderBottom:"1px solid ${theme.palette.divider}"},link:{margin:e.spacing(1,1.5),color:"#e85a4f"},toolbarTitle:{flexGrow:1},newTheme:{backgroundColor:"#d8c3a5",textColor:"#e98074",flexGrow:1}}}));var V=function(){var e,t=G(),a=Object(d.f)(),r=Object(n.useState)({search:""}),o=Object(h.a)(r,2),s=o[0],b=o[1],p=function(e){a.push({pathname:"/search/",search:"?search="+s.search}),window.location.reload()};return localStorage.getItem(H)?Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)("div",{className:t.newTheme,children:Object(i.jsx)(P.a,{position:"static",color:"backgroundColor",elevation:0,className:t.newTheme,children:Object(i.jsxs)(M.a,{className:t.newTheme,children:[Object(i.jsx)(I.a,{variant:"h6",color:"background",noWrap:!0,className:t.newTheme,children:Object(i.jsx)(N.a,{component:l.b,className:t.link,to:"/",underline:"none",color:"secondary",children:"Blog"})}),Object(i.jsx)(z.a,{value:s.search,onChange:function(e){return b({search:e})},onRequestSearch:function(){return p(s.search)}}),Object(i.jsx)(k.a,{href:"#",color:"textColor",variant:"outlined",className:t.link,component:l.b,to:"/logout",onClick:function(){localStorage.removeItem(H),localStorage.removeItem(J),window.location.reload()},children:"Logout"}),Object(i.jsx)(k.a,{href:"/myprofile",variant:"outline",children:Object(i.jsx)(q.a,{style:{fontSize:"35",color:"#e85a4f"}})})]})})})}):Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)("div",(e={className:"header"},Object(j.a)(e,"className",t.newTheme),Object(j.a)(e,"children",Object(i.jsx)(P.a,{position:"static",color:"backgroundColor",elevation:0,className:t.newTheme,children:Object(i.jsxs)(M.a,{className:t.newTheme,children:[Object(i.jsx)(I.a,{variant:"h6",color:"textColor",noWrap:!0,className:t.newTheme,children:Object(i.jsx)(N.a,{component:l.b,className:t.link,to:"/",underline:"none",color:"textColor",children:"Blog"})}),Object(i.jsx)(z.a,{value:s.search,onChange:function(e){return b({search:e})},onRequestSearch:function(){return p(s.search)}}),Object(i.jsx)("nav",{children:Object(i.jsx)(N.a,{color:"textColor",href:"#",className:t.link,component:l.b,to:"/register",children:"Register"})}),Object(i.jsx)(k.a,{href:"#",color:"textColor",variant:"outlined",className:t.link,component:l.b,to:"/login",children:"Login"})]})})),e))})},Z=Object(A.a)((function(e){return{appBar:{borderBottom:"1px solid ${theme.palette.divider}"},link:{margin:e.spacing(1,1.5),color:"#22C5A2"},toolbarTitle:{flexGrow:1},footer:Object(j.a)({borderTop:"1px solid",marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3),color:"secondary",backgroundColor:"primary"},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}})),$=function(){var e=Z();return Object(i.jsx)(c.a.Fragment,{children:Object(i.jsxs)(v.a,{theme:E,children:[Object(i.jsx)(w.a,{}),Object(i.jsx)("div",{className:e.footer,children:Object(i.jsx)(I.a,{variant:"body2",color:"secondary",align:"center",children:"FOOTER"})})]})})},K=a(151),Q=a(103),X=a(320),Y=a(321),ee=a(322),te=a(164),ae=a.n(te),ne=a(339),ce=a(315),re=a(317),oe=a(319),ie=a(314),se=a(316),le=a(318),de=a(313),je=a(122),be=a.n(je),he=a(121),pe=a.n(he),me=a(163),ue=a.n(me),ge=Object(A.a)({root:{"& > *":{borderBottom:"unset"},primary:"#e98074"},topicTable:{backgroundColor:"#d8c3a5",primary:"#e98074"}});function Oe(e){e.id;var t=e.post,a=c.a.useState(!1),n=Object(h.a)(a,2),r=n[0],o=n[1],s=ge(),l=Object(d.f)();return console.log(t),Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsxs)(de.a,{className:s.root,children:[Object(i.jsx)(ie.a,{children:Object(i.jsx)(K.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!r)},children:r?Object(i.jsx)(pe.a,{}):Object(i.jsx)(be.a,{})})}),Object(i.jsx)(ie.a,{style:{color:"#E85A4F"},component:"th",scope:"row",children:t.title}),Object(i.jsx)(ie.a,{style:{color:"#E85A4F"},align:"right",children:t.topic}),Object(i.jsx)(ie.a,{style:{color:"#E85A4F"},align:"right",children:t.upvotes}),Object(i.jsx)(ie.a,{style:{color:"#E85A4F"},align:"right",children:t.author})]}),Object(i.jsx)(de.a,{children:Object(i.jsx)(ie.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(i.jsx)(ce.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(i.jsxs)(ne.a,{margin:1,children:[Object(i.jsx)(I.a,{variant:"h8",gutterBottom:!0,component:"div",children:t.content.toString().substr(0,100)+"..."}),Object(i.jsx)(k.a,{align:"right",onClick:function(){l.push("/single/"+t.id)},children:Object(i.jsx)(ue.a,{})})]})})})})]})}function xe(e){var t=ge();console.log(e);var a=e.posts;return Object(i.jsx)(se.a,{component:Q.a,className:t.topicTable,children:Object(i.jsxs)(re.a,{"aria-label":"collapsible table",children:[Object(i.jsx)(le.a,{children:Object(i.jsxs)(de.a,{children:[Object(i.jsx)(ie.a,{}),Object(i.jsx)(ie.a,{children:"Title"})," ",Object(i.jsx)(ie.a,{align:"right",children:"Topic"}),Object(i.jsx)(ie.a,{align:"right",children:"Upvotes"}),Object(i.jsx)(ie.a,{align:"right",children:"Author"})]})}),Object(i.jsx)(oe.a,{children:a.data.map((function(e){return Object(i.jsx)(Oe,{post:e},e.id)}))})]})})}var fe=Object(A.a)((function(e){return{root:{maxWidth:2650,marginLeft:e.spacing(1),marginRight:e.spacing(1),display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},media:{height:0,paddingTop:"52.3%"},title:{},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:R.a[500]},paper:{marginTop:e.spacing(3),marginLeft:e.spacing(2),marginRight:e.spacing(2),marginBottom:e.spacing(2),paddingTop:e.spacing(1),paddingBottom:e.spacing(1),backgroundColor:"#D8C3A5"},topic:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},topictable:{backgroundColor:"#8E8D8A"}}}));var ve=a(5),ye=a(323),ke=a(324),we=a(325),Ce=a(326),Se=a(327),Te=a(166),Ne=a.n(Te),Le=a(167),Ie=a.n(Le),Ae=a(168),Be=a.n(Ae),We=a(165),Re=a.n(We),Ee=Object(A.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:R.a[500]},paper:{margin:e.spacing(4),padding:e.spacing(2),color:"#1e1e1e"}}}));var Fe=a(6),De=a(335),Pe=a(178),Me=a(330),Ue=a(337),ze=a(305),_e=a(263),qe=a(328),He=a(329),Je=a(169),Ge=a.n(Je),Ve=a(170),Ze=a.n(Ve),$e=a(171),Ke=a.n($e),Qe=a(172),Xe=a.n(Qe),Ye=[{id:"Navigate",children:[{id:"Home",icon:Object(i.jsx)(Ge.a,{}),active:!0,to:"/"},{id:"Create Threads",icon:Object(i.jsx)(Ze.a,{}),to:"/createthread"},{id:"My Threads",icon:Object(i.jsx)(Ke.a,{}),to:"/mythreads"}]}];var et=Object(Fe.a)((function(e){return{categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:e.palette.common.white},item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"#e98074"}},itemCategory:{backgroundColor:"#e85a4f",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.white},itemActiveItem:{color:"#e98074"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},divider:{marginTop:e.spacing(2)}}}))((function(e){var t=e.classes,a=Object(Pe.a)(e,["classes"]),r=Object(d.f)(),o=Object(n.useState)({username:"Loading..",organisation:"Loading..."}),s=Object(h.a)(o,2),l=s[0],j=s[1];return Object(n.useEffect)((function(){f.get("viewprofile/").then((function(e){j(e.data)}))}),[j]),Object(i.jsx)(Ue.a,Object(b.a)(Object(b.a)({variant:"permanent"},a),{},{children:Object(i.jsxs)(ze.a,{disablePadding:!0,children:[Object(i.jsx)(_e.a,{className:Object(ve.a)(t.firebase,t.item,t.itemCategory),children:l.organisation}),Object(i.jsxs)(_e.a,{className:Object(ve.a)(t.item,t.itemCategory),children:[Object(i.jsx)(qe.a,{className:t.itemIcon,children:Object(i.jsx)(Xe.a,{})}),Object(i.jsx)(He.a,{classes:{primary:t.itemPrimary},children:l.username})]}),Ye.map((function(e){var a=e.id,n=e.children;return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(_e.a,{className:t.categoryHeader,children:Object(i.jsx)(He.a,{classes:{primary:t.categoryHeaderPrimary},children:a})}),n.map((function(e){var a=e.id,n=e.icon,c=e.active,o=e.to;return Object(i.jsxs)(_e.a,{onClick:function(){return r.push(o)},button:!0,className:Object(ve.a)(t.item,c&&t.itemActiveItem),children:[Object(i.jsx)(qe.a,{className:t.itemIcon,children:n}),Object(i.jsx)(He.a,{classes:{primary:t.itemPrimary},children:a})]},a)})),Object(i.jsx)(Me.a,{className:t.divider})]},a)}))]})}))})),tt=a(340),at=a(120),nt=a.n(at),ct=a(174),rt=a.n(ct),ot=Object(A.a)({root:{"& > *":{borderBottom:"unset"}}});function it(e){e.id;var t=e.post,a=c.a.useState(!1),n=Object(h.a)(a,2),r=n[0],o=(n[1],ot());return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsxs)(de.a,{className:o.root,children:[Object(i.jsx)(ie.a,{component:"th",scope:"row",children:t.title}),Object(i.jsx)(ie.a,{align:"right",children:t.upvotes})]}),Object(i.jsx)(de.a,{children:Object(i.jsx)(ie.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(i.jsx)(ce.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(i.jsx)(ne.a,{margin:1,children:Object(i.jsx)(I.a,{variant:"h8",gutterBottom:!0,component:"div",children:t.content.toString().substr(0,100)+"..."})})})})})]})}var st=Object(Fe.a)((function(e){return{paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"40px 16px"}}}))((function(e){var t=e.classes,a=Object(n.useState)([]),c=Object(h.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)((function(){f.get("mythreads").then((function(e){o(e.data),console.log(e.data)}))}),[o]),Object(i.jsxs)(Q.a,{className:t.paper,children:[Object(i.jsx)(P.a,{className:t.searchBar,position:"static",color:"default",elevation:0,children:Object(i.jsx)(M.a,{children:Object(i.jsxs)(L.a,{container:!0,spacing:2,alignItems:"center",children:[Object(i.jsx)(L.a,{item:!0,children:Object(i.jsx)(nt.a,{className:t.block,color:"inherit"})}),Object(i.jsx)(L.a,{item:!0,xs:!0,children:Object(i.jsx)(C.a,{fullWidth:!0,placeholder:"All Threads",InputProps:{disableUnderline:!0,className:t.searchInput}})}),Object(i.jsxs)(L.a,{item:!0,children:[Object(i.jsx)(k.a,{variant:"contained",color:"primary",className:t.addUser,onClick:function(){window.location.pathname="createthread"},children:"Add Thread"}),Object(i.jsx)(tt.a,{title:"Reload",children:Object(i.jsx)(K.a,{children:Object(i.jsx)(rt.a,{className:t.block,color:"inherit"})})})]})]})})}),Object(i.jsx)("div",{className:t.contentWrapper,children:Object(i.jsx)(se.a,{children:Object(i.jsxs)(re.a,{"aria-label":"collapsible table",children:[Object(i.jsx)(le.a,{children:Object(i.jsxs)(de.a,{children:[Object(i.jsx)(ie.a,{align:"left",children:"Title"}),Object(i.jsx)(ie.a,{align:"right",children:"Upvotes"})]})}),Object(i.jsx)(oe.a,{children:r.map((function(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(it,{post:e},e.id)})}))})]})})})]})})),lt=Object(W.a)({palette:{primary:{light:"#eae7dc",main:"#eae7dc",dark:"#006db3",backgroundColor:"#eae7dc"}},typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},shape:{borderRadius:8},props:{MuiTab:{disableRipple:!0}},mixins:{toolbar:{minHeight:48}}});lt=Object(b.a)(Object(b.a)({},lt),{},{overrides:{MuiDrawer:{paper:{backgroundColor:"#8e8d8a"}},MuiButton:{label:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:lt.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:lt.palette.common.white}},MuiTab:{root:Object(j.a)({textTransform:"none",margin:"0 16px",minWidth:0,padding:0},lt.breakpoints.up("md"),{padding:0,minWidth:0})},MuiIconButton:{root:{padding:lt.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#ffffff"}},MuiListItemText:{primary:{fontWeight:lt.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"#e98074",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}}});var dt={palette:{primary:{main:"#d8c3a5"},secondary:{main:"#22C5A2"},error:{main:R.a.A400},background:{default:"#d8c3a5"}},root:{display:"flex",minHeight:"100vh"},drawer:Object(j.a)({},lt.breakpoints.up("sm"),{width:256,flexShrink:0}),app:{flex:1,display:"flex",flexDirection:"column"},main:{flex:1,padding:lt.spacing(6,4),backgroundColor:"#eae7dc"},footer:{padding:lt.spacing(2),background:"#eaeff1"}};var jt=Object(Fe.a)(dt)((function(e){var t=e.classes,a=c.a.useState(!1),n=Object(h.a)(a,2),r=n[0],o=n[1];return Object(i.jsx)(v.a,{theme:lt,children:Object(i.jsxs)("div",{className:t.root,children:[Object(i.jsx)(w.a,{}),Object(i.jsxs)("nav",{className:t.drawer,children:[Object(i.jsx)(De.a,{smUp:!0,implementation:"js",children:Object(i.jsx)(et,{PaperProps:{style:{width:256}},variant:"temporary",open:r,onClose:function(){o(!r)}})}),Object(i.jsx)(De.a,{xsDown:!0,implementation:"css",children:Object(i.jsx)(et,{PaperProps:{style:{width:256}}})})]}),Object(i.jsx)("div",{className:t.app,children:Object(i.jsx)("main",{className:t.main,children:Object(i.jsx)(st,{})})})]})})})),bt=a(106),ht=a.n(bt),pt=a(331),mt=Object(A.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",backgroundColor:"#d8c3a5",margin:e.spacing(2),padding:e.spacing(2),alignItems:"center"},paper:{alignItems:"center",justify:"center",backgroundColor:"#d8c3a5",margin:e.spacing(2),padding:e.spacing(1)},inline:{display:"inline"},comment:{backgroundColor:"#e98074"}}}));a(257);var ut=a(29),gt=a(177),Ot=a(332),xt=ut.b.Bold,ft=ut.b.Italic,vt=ut.b.Underline,yt=ut.b.AlignLeft,kt=ut.b.AlignRight,wt=ut.b.AlignCenter,Ct=ut.b.Indent,St=ut.b.Outdent,Tt=ut.b.OrderedList,Nt=ut.b.UnorderedList,Lt=ut.b.Undo,It=ut.b.Redo,At=ut.b.Link,Bt=ut.b.Unlink,Wt=Object(A.a)((function(e){return{root:{padding:e.spacing(3),margin:e.spacing(15)}}}));var Rt=Object(i.jsx)(l.a,{children:Object(i.jsxs)(c.a.StrictMode,{children:[Object(i.jsx)(V,{}),Object(i.jsxs)(d.c,{children:[Object(i.jsx)(d.a,{exact:!0,path:"/login",component:function(){var e=Object(d.f)(),t=Object.freeze({username:"",password:""}),a=Object(n.useState)(t),c=Object(h.a)(a,2),r=c[0],o=c[1],s=function(e){o(Object(b.a)(Object(b.a)({},r),{},Object(j.a)({},e.target.name,e.target.value.trim())))},l=F();return Object(i.jsx)(B.a,{component:"main",maxWidth:"xs",children:Object(i.jsxs)(v.a,{theme:E,children:[Object(i.jsx)(w.a,{}),Object(i.jsxs)("div",{className:l.paper,children:[Object(i.jsx)(y.a,{className:l.avatar}),Object(i.jsx)(I.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(i.jsxs)("form",{className:l.form,noValidate:!0,children:[Object(i.jsx)(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",color:"secondary",autoFocus:!0,onChange:s}),Object(i.jsx)(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",color:"secondary",autoComplete:"current-password",onChange:s}),Object(i.jsx)(S.a,{control:Object(i.jsx)(T.a,{value:"remember",color:"inherit"}),label:"Remember Me"}),Object(i.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"#e2b714",className:l.submit,onClick:function(t){t.preventDefault(),console.log(r),f.post("api/token/",{username:r.username,password:r.password}).then((function(t){localStorage.setItem("access_token",t.data.access),localStorage.setItem("refresh_token",t.data.refresh),f.defaults.headers.Authorization="JWT"+localStorage.getItem("access_token"),e.push("/"),window.location.reload()}))},children:"Sign In"}),Object(i.jsxs)(L.a,{container:!0,children:[Object(i.jsx)(L.a,{item:!0,xs:!0,children:Object(i.jsx)(N.a,{href:"#",variant:"form",color:"inherit",children:"Forgot password?"})}),Object(i.jsx)(L.a,{item:!0,children:Object(i.jsx)(N.a,{href:"/register",variant:"body2",color:"inherit",children:"Don't have an account? Sign Up"})})]})]})]})]})})}}),Object(i.jsx)(d.a,{exact:!0,path:"/register",component:function(){var e=Object(d.f)(),t=Object.freeze({email:"",username:"",password:""}),a=Object(n.useState)(t),c=Object(h.a)(a,2),r=c[0],o=c[1],s=function(e){o(Object(b.a)(Object(b.a)({},r),{},Object(j.a)({},e.target.name,e.target.value.trim())))},l=D();return Object(i.jsx)(B.a,{component:"main",maxWidth:"xs",children:Object(i.jsxs)(v.a,{theme:E,children:[Object(i.jsx)(w.a,{}),Object(i.jsxs)("div",{className:l.paper,children:[Object(i.jsx)(y.a,{className:l.avatar}),Object(i.jsx)(I.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(i.jsxs)("form",{className:l.form,noValidate:!0,children:[Object(i.jsxs)(L.a,{container:!0,spacing:2,children:[Object(i.jsx)(L.a,{item:!0,xs:12,children:Object(i.jsx)(C.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",color:"secondary",autoFocus:!0,onChange:s})}),Object(i.jsx)(L.a,{item:!0,xs:12,children:Object(i.jsx)(C.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",color:"secondary",onChange:s})}),Object(i.jsx)(L.a,{item:!0,xs:12,children:Object(i.jsx)(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",color:"secondary",onChange:s})})]}),Object(i.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",className:l.submit,onClick:function(t){t.preventDefault(),console.log(r),f.post("user/",{email:r.email,username:r.username,password:r.password}).then((function(t){e.push("/login"),console.log(t),console.log(t.data)})).catch((function(e){alert("Detials are incorrect or user exists!")}))},children:"Sign Up"}),Object(i.jsx)(L.a,{container:!0,justify:"flex-end",children:Object(i.jsx)(L.a,{item:!0,children:Object(i.jsx)(N.a,{href:"/login",variant:"body2",color:"inherit",children:"Already have an account? Sign in"})})})]})]})]})})}}),Object(i.jsx)(d.a,{exact:!0,path:"/",component:function(){var e=fe(),t=c.a.useState({data:[{id:"Loading",topic:"Loading",title:"Loading",upvotes:"Loading",author:"Loading",content:"Loading",postedAt:"Loading..."}]}),a=Object(h.a)(t,2),r=a[0],o=a[1],s=c.a.useState([{title:"Loading...",media:"Loading..."},{title:"Loading...",media:"Loading..."},{title:"Loading...",media:"Loading..."}]),l=Object(h.a)(s,2),d=l[0],j=l[1],b=c.a.useState(!1),p=Object(h.a)(b,2);return p[0],p[1],Object(n.useEffect)((function(){f.get("feed/").then((function(e){console.log(e.data),o(e.data),console.log(r)}))}),[o]),Object(n.useEffect)((function(){f.get("topic/").then((function(e){console.log(e.data),j(e.data),console.log(d)}))}),[j]),Object(i.jsxs)(v.a,{theme:E,children:[Object(i.jsx)(w.a,{}),Object(i.jsx)(Q.a,{className:e.paper,children:Object(i.jsx)("div",{className:e.root,children:Object(i.jsx)(X.a,{className:e.gridList,cols:4,children:d.map((function(t){return Object(i.jsxs)(Y.a,{children:[Object(i.jsx)("img",{src:t.media,alt:t.title}),Object(i.jsx)(ee.a,{title:t.title,classes:{root:e.titleBar,title:e.title},actionIcon:Object(i.jsx)(K.a,{"aria-label":"star ".concat(t.title),children:Object(i.jsx)(ae.a,{className:e.title})})})]},t.id)}))})})}),Object(i.jsx)("div",{className:e.topic,children:Object(i.jsx)(xe,{posts:r,className:e.topictable})})]})}}),Object(i.jsx)(d.a,{exact:!0,path:"/single/:id",component:function(e){var t=mt(),a=Object(d.g)().id,r=Object(n.useState)(0),o=Object(h.a)(r,2),s=o[0],l=o[1],j=Object(n.useState)({topic:"DSA top 50",content:"Loading...",id:1,title:"Loading...",postedAt:"2020-01-01T09:00:00Z",author:"Loading...",upvotes:10,media:null}),b=Object(h.a)(j,2),p=b[0],m=b[1],u=Object(n.useState)([{content:"Loading...",author:"Loading..."}]),g=Object(h.a)(u,2),O=g[0],x=g[1],S=Object(n.useState)(""),T=Object(h.a)(S,2),L=T[0],A=T[1];return Object(n.useEffect)((function(){f.get("viewthread/"+a).then((function(e){console.log(e.data),m(e.data.thread),x(e.data.posts)})),f.get("viewprofile/").then((function(e){l(e.data.id)}))}),[m,x,l]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(v.a,{theme:E,children:Object(i.jsx)(w.a,{children:Object(i.jsxs)(B.a,{children:[Object(i.jsxs)(Q.a,{className:t.paper,children:[Object(i.jsx)(B.a,{children:Object(i.jsx)(I.a,{variant:"h3",children:p.title})}),Object(i.jsx)(B.a,{children:Object(i.jsx)(I.a,{component:"div",variant:"h6",children:p.content})}),Object(i.jsx)(B.a,{style:{margin:E.spacing(2)},align:"right",children:Object(i.jsx)(N.a,{children:Object(i.jsx)(I.a,{style:{color:"#e85a4f"},children:p.author})})}),Object(i.jsx)(ze.a,{className:t.comment,children:O.map((function(e){return Object(i.jsxs)(_e.a,{alignItems:"flex-start",style:{margin:E.spacing(2)},children:[Object(i.jsxs)(pt.a,{children:[Object(i.jsx)(y.a,{alt:e.author,src:p.media,style:{margin:E.spacing(-1.5)}}),Object(i.jsx)(I.a,{style:{fontSize:11,marginTop:E.spacing(2),marginLeft:E.spacing(-1.2)},children:e.author})]}),Object(i.jsx)(He.a,{secondary:Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)(I.a,{style:{color:"#d8c3a5"},component:"div",variant:"h8",children:e.content})})}),Object(i.jsx)(Me.a,{variant:"inset",component:"li"})]})}))})]}),Object(i.jsx)(C.a,{id:"filled-basic",label:"Add Comment",multiline:!0,maxRows:4,variant:"filled",color:"#e85a4f",onChange:function(e){console.log(e.target.value),A(e.target.value)},style:{width:"80%",marginLeft:E.spacing(8.75),color:"#e85a4f"}}),Object(i.jsx)(k.a,{variant:"filled",style:{margin:"0.55rem",color:"#e85a4f"},endIcon:Object(i.jsx)(ht.a,{}),onClick:function(){f.post("/createpost/",{content:L,threadID:a,author:s}).then((function(e){console.log(e),window.location.reload()}))},children:"Post"})]})})})})}}),Object(i.jsx)(d.a,{exact:!0,path:"/myprofile/",component:jt}),Object(i.jsx)(d.a,{exact:!0,path:"/mythreads/",component:function(){var e=Ee(),t=Object(n.useState)(!1),a=Object(h.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)([{title:"Loading...",postedAt:"2021-07-09",content:"Harman new thread for testing",upvotes:100,media:"##",author:4,expanded:!1}]),s=Object(h.a)(o,2),l=s[0],d=s[1];Object(n.useEffect)((function(){f.get("mythreads/").then((function(e){console.log(e.data),d(e.data),console.log(l)}))}),[d]);var b=Object(n.useState)("username"),p=Object(h.a)(b,2),m=p[0],u=p[1];Object(n.useEffect)((function(){f.get("viewprofile/").then((function(e){u(e.data.username)}))}),[u]);var g=function(){r(!c)};return console.log(l),Object(i.jsxs)(v.a,{theme:E,children:[Object(i.jsx)(w.a,{}),Object(i.jsx)(Q.a,{className:e.paper,children:Object(i.jsx)(L.a,{container:!0,scrollable:!0,spacing:2,children:l.map((function(t){return Object(i.jsx)(L.a,{item:!0,xs:3,children:Object(i.jsxs)(ye.a,{className:e.root,children:[Object(i.jsx)(ke.a,{avatar:Object(i.jsx)(y.a,{"aria-label":"recipe",className:e.avatar,children:m[0]}),action:Object(i.jsx)(K.a,{"aria-label":"settings",children:Object(i.jsx)(Re.a,{})}),title:t.title,subheader:t.postedAt.substr(0,10)}),Object(i.jsx)(we.a,{className:e.media,image:t.media,title:t.title}),Object(i.jsx)(Ce.a,{children:Object(i.jsx)(I.a,{variant:"body2",color:"textSecondary",component:"p",children:t.content.substr(0,50)+"...  "})}),Object(i.jsxs)(Se.a,{disableSpacing:!0,children:[Object(i.jsx)(K.a,{"aria-label":"add to favorites",children:Object(i.jsx)(Ne.a,{})}),Object(i.jsx)(K.a,{"aria-label":"share",children:Object(i.jsx)(Ie.a,{})}),Object(i.jsx)(K.a,{className:Object(ve.a)(e.expand,Object(j.a)({},e.expandOpen,c)),onClick:g,"aria-expanded":c,"aria-label":"show more",children:Object(i.jsx)(Be.a,{})})]}),Object(i.jsx)(ce.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(i.jsx)(Ce.a,{children:Object(i.jsx)(I.a,{paragraph:!0,children:t.content})})})]})})}))})})]})}}),Object(i.jsx)(d.a,{exact:!0,path:"/createthread/",component:function(){var e=Wt(),t=c.a.useState(null),a=Object(h.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)("Select Topic"),l=Object(h.a)(s,2),j=l[0],p=l[1],m=Object(n.useState)(0),u=Object(h.a)(m,2),g=u[0],O=u[1],x=Object(n.useState)(null),y=Object(h.a)(x,2),S=y[0],T=y[1],N=Object(n.useState)({}),A=Object(h.a)(N,2),B=A[0],W=A[1],R=function(e){o(null),W(Object(b.a)(Object(b.a)({},B),{},{id:e.target.id})),""==e.target.title?p("Select Topic"):p(e.target.title)},F=Object(n.useState)([{id:69,title:"Loading..."}]),D=Object(h.a)(F,2),P=D[0],M=D[1];Object(n.useEffect)((function(){f.get("topic/").then((function(e){console.log(e.data),M(e.data)})),f.get("viewprofile/").then((function(e){console.log(e.data),O(e.data)}))}),[M,O]);var U=Object(d.f)();return Object(i.jsx)(c.a.Fragment,{children:Object(i.jsxs)(v.a,{theme:E,children:[Object(i.jsx)(w.a,{}),Object(i.jsxs)(Q.a,{className:e.root,children:[Object(i.jsx)(I.a,{variant:"h6",gutterBottom:!0,children:"Create Thread"}),Object(i.jsxs)(L.a,{container:!0,spacing:3,children:[Object(i.jsx)(L.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(C.a,{required:!0,id:"title",name:"title",label:"Title",fullWidth:!0,autoComplete:"given-name",onChange:function(e){console.log(e.target.value),W(Object(b.a)(Object(b.a)({},B),{},{title:e.target.value}))}})}),Object(i.jsx)(L.a,{item:!0,xs:12,children:Object(i.jsx)("div",{className:"app",children:Object(i.jsx)(ut.a,{tools:[[xt,ft,vt],[Lt,It],[At,Bt],[yt,wt,kt],[Tt,Nt,Ct,St]],contentStyle:{height:320,backgroundColor:"#ffffff"},defaultContent:"Use shift-enter for new line :)",onChange:function(e){try{W(Object(b.a)(Object(b.a)({},B),{},{content:e.value}))}catch(e){console.log(e),W(Object(b.a)(Object(b.a)({},B),{},{content:""}))}console.log(e.value.textContent)}})})}),Object(i.jsx)(L.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)("input",{id:"media",name:"media",type:"file",onChange:function(e){e.preventDefault(),T({media:e.target.files})}})}),Object(i.jsxs)(L.a,{children:[Object(i.jsx)(k.a,{"aria-controls":"simple-menu",variant:"outline","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},style:{color:"#e85a4f"},children:j}),Object(i.jsx)(gt.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:R,children:P.map((function(e){return Object(i.jsx)(Ot.a,{onClick:R,id:e.id,title:e.title,children:e.title})}))})]})]}),Object(i.jsx)(L.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(k.a,{style:{color:"#e85a4f"},endIcon:Object(i.jsx)(ht.a,{}),onClick:function(e){e.preventDefault(),console.log(B);var t=new FormData;t.append("title",B.title),t.append("content",B.content),t.append("topicID",parseInt(B.id)),t.append("author",parseInt(g.id)),t.append("media",S.media[0]);localStorage.getItem("access_token")&&localStorage.getItem("access_token");f.post("thread/",t).then((function(e){console.log(e.data),U.push("/")})).catch((function(e){console.log(e)}))},children:"Post"})})]})]})})}})]}),Object(i.jsx)($,{})]})});o.a.render(Rt,document.getElementById("root")),s()}},[[259,1,2]]]);
//# sourceMappingURL=main.b8e2a6c4.chunk.js.map